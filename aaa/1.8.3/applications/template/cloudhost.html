<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" style="height: 100%;border: none;padding: 0px;margin: 0px;">
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no"/>
	<meta http-equiv="X-UA-Compatible" content="IE=10; IE=9; IE=8; IE=7;  IE=EDGE"/>
	<meta content="Help" name="keywords" />
	<meta content="Help" name="description" />
	<meta name="generator" content="Help"/>
	<title>Cloud Host-Malakas</title>
	<link rel="stylesheet" href="/static/js/model/bootstrap-3.3.1-dist/dist/css/bootstrap.min.css" type="text/css"/>
	<link rel="stylesheet" href="/static/js/model/bootstrap-3.3.1-dist/dist/css/bootstrap-theme.min.css" type="text/css"/>
	<!--<link rel="stylesheet" href="/static/js/model/DataTables-1.10.4-trial/media/css/jquery.dataTables.css" type="text/css"/>
	<link rel="stylesheet" href="/static/js/model/DataTables-1.10.4-trial/extensions/TableTools/css/dataTables.tableTools.min.css" type="text/css"/>
	<link rel="stylesheet" href="/static/js/model/DataTables-1.10.4-trial/extensions/Editor-1.3.3/css/dataTables.editor.min.css" type="text/css"/>
	<link rel="stylesheet" href="/static/js/model/bootstrap-3.3.1-dist/dist/css/font-awesome.css" type="text/css"/>
	<link rel="stylesheet" href="/static/css/demo/nav/docs.min.css" type="text/css"/>-->
	<link rel="stylesheet" href="/static/js/model/bootstrap-datetimepicker-master/build/css/bootstrap-datetimepicker.min.css" type="text/css"/>
	<link rel="stylesheet" href="/static/js/model/bootstrap-table-master/dist/bootstrap-table.min.css" type="text/css"/>
	<link rel="stylesheet" href="/static/js/model/bootstrap-3.3.1-dist/dist/css/patch.css" type="text/css"/>
	<link rel="stylesheet" href="/static/css/docs.min.css" type="text/css"/>
	<style type="text/css">
		/* Move down content because we have a fixed navbar that is 50px tall */
		body {
			padding-top: 50px;
			padding-bottom: 20px;
		}
		/* footer css #f8f8f8; */
		.pb-page-footer{
			width: 100%;
			color: gray;
			background-color: #3C3C3C;
			#border-top: 1px solid #e7e7e7;
			margin-top: 5px;
			margin-bottom: 0px;
			padding-top: 30px;
			padding-bottom: 30px;
		}
		.pb-page-footer a, .pb-page-footer a:visited {
			color: #777;
			text-decoration: none;
		}
		.pb-page-footer a:active, .pb-page-footer a:hover, .pb-page-footer a:focus{
			color: white;
			text-decoration: none;
		}
		body {
			padding-bottom:0px;
		}
		.pb-page-footer h4 {
			color:white;
		}
		
		/* job center body */
		.form-control {
			height: 28px;
		}
		.keep-open {
			height: 28px;
		}
		div.bootstrap-table > div.fixed-table-toolbar > div.columns.columns-right.btn-group.pull-right > div > button {
			height: 28px;
		}
		div.fixed-table-pagination > div.pull-left.pagination-detail > span.page-list {
			display: inline-block !important;
		}
		div.fixed-table-container > div.fixed-table-pagination > div.pull-right.pagination {
			display: inline-block !important;
		}
		.fixed-table-container {
			border: none;
		}
	</style>
</head>
<body>
	<div id="id_header" style="width:100%;"></div>
	
	<!-- <div class="container" style="min-height:730px;">
		<p style="font-size:60px;text-align:center;margin-top:300px;">这里是自定义区域</p>
	</div> -->
    <div class="container-fluid" style="min-height:730px;">
		<h4 class="page-header" style="margin-top:30px;margin-bottom:0px;">VM List</h5>
			<!--<div id="toolbar" class="btn-group">
				<button type="button" class="btn btn-default">
					<i class="glyphicon glyphicon-plus"></i>
				</button>
				<button type="button" class="btn btn-default">
					<i class="glyphicon glyphicon-heart"></i>
				</button>
				<button type="button" class="btn btn-default">
					<i class="glyphicon glyphicon-trash"></i>
				</button>
			</div>-->
			<!--<div id="toolbar" class="fixed-table-toolbar" style="margin-bottom: -40px">
				<button id="re_send_selected" class="btn btn-danger" disabled>New Job</button>
			</div>-->
			<!-- Split button -->
			<!-- Single button -->
			<div class="btn-group" class="fixed-table-toolbar" style="margin-bottom: -40px">
				<button type="button" class="btn btn-warning btn-sm" onclick="window.location.href='/newVM/'">New VM</button>
			</div>
			<table id="url_tbl" data-toggle="table" 
				data-url="/getInstances/"
				data-classes="table table-hover table-condensed" 
				data-striped="true"
				data-row-style="rowStyle" 
				data-sort-name="id" 
				data-sort-order="desc" 
				data-show-header="true" 
				data-query-params-type="limit" 
				data-show-pagination-switch="true" 
				data-pagination="true" 
				data-smart-display="true"
				data-side-pagination="server" 
				data-page-number="1" 
				data-page-size="10" 
				data-page-list="[10, 15, 20, 50, 100]" 
				data-search="true" 
				data-show-refresh="true" 
				data-show-toggle="true" 
				data-show-columns="true" 
				data-click-to-select="true" 
				data-select-item-name="myRadioName" 
				data-single-select="true" 
				data-toolbar="#toolbar" >
				<!--data-height="200"-->
				<thead>
					<tr>
						<th data-field="id" data-sortable="true" data-halign="center" data-align="left">ID</th>
						<th data-field="name" data-sortable="true" data-halign="center" data-align="left">Name</th>
						<!-- <th data-field="job_type" data-sortable="true" data-halign="center" data-align="left" data-formatter="jobTypeFormatter">Type</th> -->
						<th data-field="addresses" data-sortable="true" data-halign="center" data-align="left">IP</th>
                        <th data-field="security_groups" data-sortable="true" data-halign="center" data-align="left">SecurityGroups</th>
                        <th data-field="image" data-sortable="true" data-halign="center" data-align="left" data-visible="false">Image</th>
                        <th data-field="flavor" data-sortable="true" data-halign="center" data-align="left" data-visible="false">Flavor</th>
                        <th data-field="tenant_id" data-sortable="true" data-halign="center" data-align="left" data-visible="false">Tenant</th>
                        <th data-field="user_id" data-sortable="true" data-halign="center" data-align="left" data-visible="false">User</th>
                        <th data-field="availability_zone" data-sortable="true" data-halign="center" data-align="left">AvailabilityZone</th>
                        <th data-field="vm_state" data-sortable="true" data-halign="center" data-align="left">VMState</th>
                        <th data-field="created" data-sortable="true" data-halign="center" data-align="left" data-visible="false">Created</th>
                        <th data-field="launched_at" data-sortable="true" data-halign="center" data-align="left">LaunchedAt</th>
                        <th data-field="power_state" data-sortable="true" data-halign="center" data-align="left">PowerState</th>
                        <th data-field="updated" data-sortable="true" data-halign="center" data-align="left" data-visible="false">Updated</th>
						<!--<th data-field="module_args" data-sortable="true" data-halign="center" data-align="left">Args</th>
						<th data-field="pattern" data-sortable="true" data-halign="center" data-align="left">Pattern</th>
						<th data-field="forks" data-sortable="true" data-halign="center" data-align="left">Forks</th>
						<th data-field="script_content" data-sortable="true" data-halign="center" data-align="left">Script</th>
						<th data-field="playbook_content" data-sortable="true" data-halign="center" data-align="left">Playbook</th>
						<th data-field="hosts_list" data-sortable="true" data-halign="center" data-align="left">HostList</th>
						<th data-field="extra_vars" data-sortable="true" data-halign="center" data-align="left">ExtraVars</th>
						<th data-field="only_tags" data-sortable="true" data-halign="center" data-align="left">Tags</th>-->
						<th data-field="operation" data-halign="center" data-align="center" data-formatter="operationFormatter" data-visible="true">Operation</th>
					</tr>
				</thead>
			</table>
	</div>
    
	<div id="id_footer" style="width:100%;"></div>
	<!-- Modal -->
	<div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true">
		<div class="modal-dialog">
			<div class="modal-content">
				<div class="modal-header">
					<!--<button type="button" class="close" data-dismiss="modal" aria-label="Close"><span aria-hidden="true">&times;</span></button>-->
					<h4 class="modal-title" id="myModalLabel">Info</h4>
				</div>
				<div class="modal-body text-center">
					Operation Success
				</div>
				<!--<div class="modal-footer">
					<button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
					<button type="button" class="btn btn-primary">Save changes</button>
				</div>-->
			</div>
		</div>
	</div>
	<script src="/static/js/jquery-1.11.2.min.js"></script>
	<script src="/static/js/model/bootstrap-3.3.1-dist/dist/js/bootstrap.min.js"></script>
	<script src="/static/js/model/bootstrap-3.3.1-dist/dist/js/docs.min.js"></script>
	<script src="/static/js/model/moment-develop/min/moment-with-locales.min.js"></script>
	<script src="/static/js/model/bootstrap-datetimepicker-master/build/js/bootstrap-datetimepicker.min.js"></script>
	<script src="/static/js/model/bootstrap-table-master/dist/bootstrap-table.min.js"></script>
	<script src="/static/js/model/bootstrap-table-master/dist/locale/bootstrap-table-zh-CN.min.js"></script>
	<script type="text/javascript">
        $(document).ready(function(e) {
            var header_url = "/header/";
            var footer_url = "/footer/";
            $('#id_header').load(header_url, function(){
                    $("#id_menu_cloudhost").addClass("active");
                }
            );
            $('#id_footer').load(footer_url);
		});
        
		/**********************************************************************************************
		*****账号下拉列表初始化
		**********************************************************************************************/
		//表格行style设置
		function rowStyle(row, index) {
			var classes = ['active', 'success', 'info', 'warning', 'danger'];
			/*if (index % 2 === 0 && index / 2 < classes.length) {
				return {
					classes: classes[index / 2]
				};
			}*/
			/*if (row.job_status == 5) {
				return {
					classes: 'danger'
				};
			}*/
			return {};
		}
		//表格列data设置
		function operationFormatter(value) {
			//return '<a href="#"><i class="glyphicon glyphicon-cutlery"></i>查看</a> <a href="#"><i class="glyphicon glyphicon-cutlery"></i>修改</a>';
			//return '<i class="glyphicon glyphicon-cutlery"></i> ' ;//+ value;
			//return '<a href="javascript:relateURL(' + value + ')"><i class="glyphicon glyphicon-search"></i>查看</a>';
			/*if (value.job_type == 0 || value.job_type == 1) {
				return "<a href='/getJobRes/?job_id="+value.id+"'>执行结果</a>";
			} else if (value.job_type == 2 && value.job_status < 4) {
				return "<a href='/getJobRes/?job_id="+value.id+"'>执行结果</a>";
			} else if (value.job_type == 2 && value.job_status >= 4) {
				return "<a href='/getJobRes/?job_id="+value.id+"'>执行结果</a> | " +
				"<a href='/getPlaybookJobLog/?job_id="+value.id+"'>详细日志</a>";
			}*/
            return '<div class="dropdown">\
              <button class="btn btn-primary btn-sm dropdown-toggle" type="button" id="dropdownMenu1" data-toggle="dropdown" aria-haspopup="false" aria-expanded="false">\
                Operation\
                <span class="caret"></span>\
              </button>\
              <ul class="dropdown-menu" aria-labelledby="dropdownMenu1" style="min-width:100px;left:-20px;">\
                <li><a href="#">ShutDown</a></li>\
                <li><a href="#">Reboot</a></li>\
                <li><a href="#">Delete</a></li>\
                <li><a href="#">XXX</a></li>\
                <li><a href="#">XXX</a></li>\
                <li><a href="#">XXX</a></li>\
              </ul>\
            </div>';
		}
		function jobTypeFormatter(value) {
			if (value == 0) {
				return "Basic";
			} else if (value == 1) {
				return "Script";
			} else if (value == 2) {
				return "Playbook";
			}
		}
		function jobStatusFormatter(value) {
			if (value == 0) {
				return "<img src='/static/images/r_loading.gif' title='initial'>";
			} else if (value == 1) {
				return "<img src='/static/images/r_running.gif' title='submited'>";
			} else if (value == 2) {
				return "<img src='/static/images/r_running.gif' title='scrabed'>";
			} else if (value == 3) {
				return "<img src='/static/images/r_running.gif' title='polled'>";
			} else if (value == 4) {
				return "<img src='/static/images/r_running.gif' title='running'>";
			} else if (value == 5) {
				return "<img src='/static/images/r_exception.png' title='exception'>";
			} else if (value == 6) {
				return "<img src='/static/images/r_success.png' title='success'>";
			}
		}
		//表格index设置
		function runningFormatter(value, row, index) {
			return index;
		}
		//表格复选设置
		function stateFormatter(value, row, index) {
			if (index === 2) {
				return {
					disabled: true
				};
			}
			if (index === 0) {
				return {
					disabled: true,
					checked: true
				}
			}
			return value;
		}
		//表格分页查询设置
		function queryParams() {
			return {
				limit: 5,
				offset: 0,
				//search: 
				sort: 'id',
				order: 'desc'
			};
		}
		/*
		$(document).ready(function() {
			$('.page-list').css('display','inline-block'); 
			$('.pagination').css('display','inline-block'); 
			$('.page-list').css({visibility,"visible"});
			$('.pagination').css({visibility,"visible"});
		});*/
		/*$(document).ready(function() {
			$('#datetimepicker1').datetimepicker({
				format: 'YYYY-MM-DD',
				useCurrent: true,
				calendarWeeks: true,
				showTodayButton: true,
				showClear: true
			});
		});*/
	</script>
</body>
</html>
